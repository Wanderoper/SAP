*&---------------------------------------------------------------------*
*&  Include           ZALVTEST_GET_FIXED_VALUE_TOP
*&---------------------------------------------------------------------*
* TYPES
" ITAB
TYPES: BEGIN OF TS_ITAB.
       INCLUDE TYPE SMEAL.
TYPES: TEXT_OF_MEAL TYPE VAL_TEXT.
TYPES: END OF   TS_ITAB.

TYPES TT_ITAB TYPE TABLE OF TS_ITAB.

" TEXT TABLE - GETTING THE TEXT FROM FIXED VALUE
TYPES: BEGIN OF TS_TEXT.
TYPES: DOMVALUE_L TYPE DOMVALUE_L,
       DDTEXT     TYPE VAL_TEXT.
TYPES: END OF TS_TEXT.

TYPES TT_TEXT TYPE TABLE OF TS_TEXT.

* DATA
DATA: GT_ITAB TYPE TT_ITAB,
      GW_ITAB LIKE LINE OF GT_ITAB.

DATA: GT_TEXT TYPE TT_TEXT,
      GW_TEXT LIKE LINE OF GT_TEXT.

DATA: GT_MEAL LIKE TABLE OF SMEAL,
      GW_MEAL LIKE LINE OF GT_MEAL.

DATA TITLE_200 TYPE SMEAL-MEALTYPE.

* CONTROL
DATA: OK_CODE TYPE SY-UCOMM.

* SCREEN
PARAMETERS: P_CAR LIKE GW_ITAB-CARRID.

*&------------------------------------------------------
* ALV
DATA: GO_CONTAINER TYPE REF TO CL_GUI_DOCKING_CONTAINER,
      GO_ALV_GRID  TYPE REF TO CL_GUI_ALV_GRID.

DATA: GO_CONTAINER2 TYPE REF TO CL_GUI_DOCKING_CONTAINER,
      GO_ALV_GRID2  TYPE REF TO CL_GUI_ALV_GRID.

CLASS LCL_EVENT_RECEIVER DEFINITION.
  PUBLIC SECTION.
    METHODS: HANDLE_DOUBLE_CLICK FOR EVENT DOUBLE_CLICK
                                        OF CL_GUI_ALV_GRID
                                 IMPORTING E_ROW E_COLUMN.

ENDCLASS.
CLASS LCL_EVENT_RECEIVER IMPLEMENTATION.
  METHOD HANDLE_DOUBLE_CLICK.
    PERFORM FREE_RESOURCES.

    READ TABLE GT_ITAB INTO GW_ITAB INDEX E_ROW.
    TITLE_200 = GW_ITAB-MEALTYPE.

    SELECT *
    FROM SMEAL
    INTO CORRESPONDING FIELDS OF TABLE GT_MEAL
    WHERE MEALTYPE = GW_ITAB-MEALTYPE.

    CALL SCREEN 200.

  ENDMETHOD.
ENDCLASS.

DATA: GO_EVENT_RECEIVER TYPE REF TO LCL_EVENT_RECEIVER.